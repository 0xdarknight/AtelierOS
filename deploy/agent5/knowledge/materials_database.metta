(fabric cotton-jersey-180gsm
  (type knit)
  (fiber cotton-100)
  (weight 180gsm)
  (width 180cm)
  (shrinkage-length 3-percent)
  (shrinkage-width 2-percent)
  (waste-factor 15-percent)
  (price-per-meter 5.80 usd)
  (moq-meters 500)
  (lead-time-days 21)
  (origin india pakistan)
  (sustainability-score 72)
  (certifications GOTS OEKO-TEX)
  (hand-feel soft)
  (suitable-for t-shirt hoodie jogger))

(fabric recycled-polyester-performance
  (type knit)
  (fiber recycled-polyester-88 spandex-12)
  (weight 220gsm)
  (width 165cm)
  (shrinkage-length 2-percent)
  (shrinkage-width 1-percent)
  (waste-factor 12-percent)
  (price-per-meter 7.20 usd)
  (moq-meters 300)
  (lead-time-days 28)
  (origin taiwan vietnam)
  (sustainability-score 85)
  (certifications GRS OEKO-TEX bluesign)
  (hand-feel technical)
  (properties moisture-wicking quick-dry 4-way-stretch)
  (suitable-for activewear legging sports-bra))

(fabric organic-cotton-twill
  (type woven)
  (fiber organic-cotton-100)
  (weight 280gsm)
  (width 150cm)
  (shrinkage-length 4-percent)
  (shrinkage-width 2-percent)
  (waste-factor 18-percent)
  (price-per-meter 9.50 usd)
  (moq-meters 600)
  (lead-time-days 35)
  (origin turkey india)
  (sustainability-score 88)
  (certifications GOTS USDA-Organic OEKO-TEX)
  (hand-feel structured)
  (suitable-for pant jacket overshirt))

(fabric merino-wool-blend
  (type knit)
  (fiber merino-wool-70 nylon-25 spandex-5)
  (weight 240gsm)
  (width 170cm)
  (shrinkage-length 5-percent)
  (shrinkage-width 3-percent)
  (waste-factor 14-percent)
  (price-per-meter 18.50 usd)
  (moq-meters 200)
  (lead-time-days 42)
  (origin italy new-zealand)
  (sustainability-score 78)
  (certifications ZQ RWS OEKO-TEX)
  (hand-feel luxe)
  (properties temperature-regulation odor-resistant moisture-wicking)
  (suitable-for baselayer hoodie thermal))

(fabric tencel-lyocell-jersey
  (type knit)
  (fiber tencel-95 spandex-5)
  (weight 200gsm)
  (width 175cm)
  (shrinkage-length 3-percent)
  (shrinkage-width 2-percent)
  (waste-factor 13-percent)
  (price-per-meter 10.80 usd)
  (moq-meters 400)
  (lead-time-days 30)
  (origin austria china)
  (sustainability-score 92)
  (certifications FSC OEKO-TEX Lenzing-certified)
  (hand-feel silky)
  (properties breathable biodegradable soft-drape)
  (suitable-for t-shirt dress flowy-pant))

(trim zipper-ykk-5
  (type zipper)
  (brand YKK)
  (size 5-coil)
  (length-25cm 1.20 usd)
  (length-40cm 1.65 usd)
  (length-60cm 2.10 usd)
  (length-custom 0.035 usd-per-cm)
  (moq-units 500)
  (lead-time-days 14)
  (colors-standard black white navy)
  (colors-custom 1000-moq)
  (durability 10000-cycles))

(trim button-corozo-natural
  (type button)
  (material corozo-nut)
  (size-15mm 0.18 usd)
  (size-20mm 0.24 usd)
  (size-25mm 0.32 usd)
  (moq-units 1000)
  (lead-time-days 21)
  (colors natural dyed-custom)
  (sustainability-score 95)
  (certifications biodegradable FSC))

(trim label-woven-main
  (type label)
  (material polyester-satin)
  (size-standard 50x25mm)
  (print-method woven)
  (colors up-to-6)
  (price-per-unit 0.15 usd)
  (moq-units 1000)
  (lead-time-days 10)
  (placement center-back-neck))

(trim label-care-printed
  (type label)
  (material cotton-twill)
  (size-standard 50x50mm)
  (print-method screen-print)
  (colors black-on-white)
  (price-per-unit 0.08 usd)
  (moq-units 500)
  (lead-time-days 7)
  (placement side-seam))

(trim hangtag-recycled-card
  (type hangtag)
  (material recycled-cardstock-350gsm)
  (size-standard 50x90mm)
  (print full-color-offset)
  (finish die-cut hole-punch)
  (price-per-unit 0.12 usd)
  (moq-units 500)
  (lead-time-days 10))

(trim drawcord-cotton-round
  (type drawcord)
  (material cotton-100)
  (diameter 5mm)
  (price-per-meter 0.15 usd)
  (moq-meters 500)
  (colors natural white black custom-dyed)
  (lead-time-days 7))

(trim elastic-woven
  (type elastic)
  (material polyester-nylon)
  (width-25mm 0.08 usd-per-meter)
  (width-40mm 0.12 usd-per-meter)
  (width-60mm 0.18 usd-per-meter)
  (moq-meters 1000)
  (stretch-recovery 95-percent)
  (lead-time-days 14))

(thread polyester-corespun-40s
  (type thread)
  (material polyester-corespun)
  (weight 40s)
  (price-per-cone 2.80 usd)
  (meters-per-cone 5000)
  (consumption-percentage 0.8-percent-of-fabric-weight)
  (moq-cones 10)
  (colors all-standard))

(packaging poly-bag-recycled
  (type poly-bag)
  (material ldpe-recycled-50)
  (size-10x14 0.06 usd)
  (size-12x16 0.08 usd)
  (size-14x20 0.10 usd)
  (moq-units 1000)
  (certification post-consumer-recycled)
  (lead-time-days 7))

(packaging tissue-paper-branded
  (type tissue)
  (material paper-recycled)
  (size-20x30 0.05 usd)
  (print 1-color-logo)
  (moq-units 1000)
  (lead-time-days 10))

(packaging sticker-barcode
  (type sticker)
  (material paper-adhesive)
  (size-2x3 0.03 usd)
  (print variable-data-barcode)
  (moq-units 500)
  (lead-time-days 5))

(= (calculate-fabric-consumption $garment $size $fabric)
   (match &self
     (and (garment-pattern $garment (pattern-pieces $pieces))
          (fabric $fabric (width $width) (shrinkage-length $shrink-l) (waste-factor $waste)))
     (let* ((base-meters (pattern-meters $garment $size))
            (shrinkage-factor (+ 1 (/ $shrink-l 100)))
            (waste-multiplier (+ 1 (/ $waste 100)))
            (total-meters (* base-meters shrinkage-factor waste-multiplier)))
       total-meters)))

(= (calculate-trim-cost $garment)
   (match &self
     (garment-trims $garment $trim-list)
     (sum-list (map get-trim-price $trim-list))))

(= (calculate-labor-cost $garment $labor-rate)
   (match &self
     (garment-complexity $garment (smv $minutes))
     (* $minutes $labor-rate)))

(= (calculate-fob-cost $garment $fabric $labor-rate $overhead-pct)
   (let* ((fabric-cost (* (calculate-fabric-consumption $garment medium $fabric)
                          (fabric-price-per-meter $fabric)))
          (trim-cost (calculate-trim-cost $garment))
          (labor-cost (calculate-labor-cost $garment $labor-rate))
          (packaging-cost 0.25)
          (direct-cost (+ fabric-cost trim-cost labor-cost packaging-cost))
          (overhead (* direct-cost (/ $overhead-pct 100)))
          (fob (+ direct-cost overhead)))
     fob))

(= (calculate-landed-cost $fob $origin $destination $units)
   (match &self
     (shipping-cost $origin $destination (cost-per-unit $freight))
     (let* ((duty-rate (get-duty-rate product-category))
            (duty (* $fob (/ duty-rate 100)))
            (customs-broker (/ 100 $units))
            (inspection 0.40)
            (warehousing 0.60)
            (landed (+ $fob $freight duty customs-broker inspection warehousing)))
       landed)))

(size-run standard-6-size
  (sizes XS S M L XL XXL)
  (distribution
    (XS 6-percent)
    (S 20-percent)
    (M 30-percent)
    (L 25-percent)
    (XL 14-percent)
    (XXL 5-percent)))

(size-run athletic-fit
  (sizes XS S M L XL XXL)
  (distribution
    (XS 4-percent)
    (S 18-percent)
    (M 32-percent)
    (L 28-percent)
    (XL 14-percent)
    (XXL 4-percent)))

(size-run plus-inclusive
  (sizes XS S M L XL XXL 3XL 4XL)
  (distribution
    (XS 4-percent)
    (S 15-percent)
    (M 24-percent)
    (L 22-percent)
    (XL 16-percent)
    (XXL 10-percent)
    (3XL 6-percent)
    (4XL 3-percent)))
